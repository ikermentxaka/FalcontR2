<!DOCTYPE html>
<html lang="es">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="src/favicon.ico" />
    <title>Voluntariado Verde</title>

    <!-- Conexión previa con Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Enlace a la fuente Poppins -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- Archivos CSS -->
    <link rel="stylesheet" href="estilos/General.css">
    <link rel="stylesheet" href="estilos/Layout.css">
    <link rel="stylesheet" href="estilos/CrearEventoRecorrido.css">

</head>

<body>

    <header>
        <!-- LOGO -->
        <div class="logo">
            <a href="index.html">
                <img id="logoHeader" src="src/Logo_VV_v1_Blanco.png" alt="Logo">
            </a>
        </div>

        <!-- BOTÓN HAMBURGUESA -->
        <button class="hamburguesa" aria-label="Menú">
            ☰
        </button>

        <!-- MENU -->
        <div class="menu">
            <a href="SobreNosotros.html">Sobre nosotros</a>
            <a href="Contacto.html">Contacto</a>
            <a id="crear" href="CrearEvento.html">Crear evento</a>
            <!-- LOGIN SOLO MÓVIL -->
            <a href="TrabajaNosotros.html" class="login-mobile">Trabaja con nosotros</a>
            <a href="IniciarSesion.html" class="login-mobile">Iniciar sesión</a>


            <a href="EN/index.html">EN</a>
        </div>

        <!-- ICONO LOGIN SOLO DESKTOP -->
        <div class="login-desktop">
            <a href="IniciarSesion.html">
                <img src="src/PerfilInicioSesion.png" alt="Perfil">
            </a>
        </div>
    </header>

    <main>

        <div class="container">
            <div class="info-section">
                <h1>Crear Recorrido</h1>
                <p>Configura los detalles de tu recorrido incluyendo los puntos de salida, llegada y todos los puntos
                    intermedios que necesites.</p>
                <p>Puedes agregar tantos puntos de avituallamiento o control como requiera tu evento.</p>
                <p class="detail">Define los kilometrajes exactos para cada punto del recorrido.</p>
                <p class="detail">Los puntos intermedios te ayudan a organizar mejor la logistica del evento.</p>
            </div>

            <div class="form-section">
                <h2>Puntos del Recorrido</h2>
                <form id="recorridoForm">
                    <div class="form-group">
                        <label for="nombreRecorrido">Nombre del Recorrido</label>
                        <input type="text" id="nombreRecorrido" name="nombreRecorrido"
                            placeholder="Ej: Ruta de la montana">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kmSalida">Nº km de Salida</label>
                            <input type="number" id="kmSalida" name="kmSalida" placeholder="0" min="0" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="kmLlegada">Nº km de Llegada</label>
                            <input type="number" id="kmLlegada" name="kmLlegada" placeholder="Ej: 42" min="0"
                                step="0.1">
                        </div>
                    </div>

                    <div class="puntos-container">
                        <div class="puntos-header">
                            <h3>Puntos Intermedios</h3>
                            <button type="button" class="btn-agregar" id="btnAgregar">+ Agregar Punto</button>
                        </div>
                        <div id="puntosLista">
                            <div class="empty-message" id="emptyMessage">
                                No hay puntos intermedios. Haz clic en "+ Agregar Punto" para anadir uno.
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="descripcion">Descripcion del Recorrido</label>
                        <textarea id="descripcion" name="descripcion"
                            placeholder="Describe las caracteristicas del recorrido..."></textarea>
                    </div>

                    <button type="submit" class="btn-enviar">Crear Recorrido</button>
                </form>
            </div>
        </div>



    </main>

    <footer>

        <div class="colaboracion">
            <h2>Colabora con nosotros y sé parte del cambio.</h2>
            <h3>Juntos hacemos crecer un futuro más verde.</h3>
            <div class="btn-colab">
                <a class="botones" href="RegistroVoluntarios.html">Unete al voluntariado</a>
                <a class="botones" href="TrabajaNosotros.html">Trabaja con nosotros</a>
            </div>
        </div>
        <div class="contacto">
            <div class="iconos">
                <a class="icon"><img src="src/movil.png">
                    <p>+34 123 45 67 89</p>
                </a>
                <a href="mailto:correoelectronico@gmail.com" class="icon"><img src="src/gmail.png">
                    <p>voluntariadoverde@gmail.com</p>
                </a>
                <a href="https://www.google.com/maps/place/cpes+SAN+LUIS+LH+bhip+-+Bachillerato+y+Formaci%C3%B3n+Profesional/@43.2615541,-2.9419887,17z/data=!3m1!4b1!4m6!3m5!1s0xd4e502873b41fd5:0x1ab0ace3022b6ab9!8m2!3d43.2615502!4d-2.9394138!16s%2Fg%2F1wd3xc60?entry=ttu&g_ep=EgoyMDI1MTAyMi4wIKXMDSoASAFQAw%3D%3D"
                    class="icon"><img src="src/mapa.png">
                    <p>Licenciado Poza Kalea 31, 48011 Bilbao, Vizcaya</p>
                </a>
            </div>
            <div class="rrss">
                <a href="https://x.com/?lang=es"><img src="src/insta.png"></a>
                <a href="https://www.facebook.com/?locale=es_ES"><img src="src/facebook.png"></a>
                <a href="https://www.instagram.com/"><img src="src/twitter.png"></a>
            </div>
        </div>
        <div class="copyright">
            <p>© 2026 Voluntariado Verde. Todos los derechos reservados.</p>
        </div>


    </footer>

<script>
    // =========================
    // MENÚ HAMBURGUESA
    // =========================
    const hamburguesa = document.querySelector('.hamburguesa');
    const menu = document.querySelector('.menu');

    hamburguesa.addEventListener('click', () => {
        menu.classList.toggle('activo');
    });

    // =========================
    // HEADER CON EFECTO SCROLL
    // =========================
    const header = document.querySelector("header");

    function handleScroll() {
        if (window.innerWidth > 860 && window.scrollY > 250) {
            header.classList.add("isla");
        } else {
            header.classList.remove("isla");
        }
    }

    window.addEventListener("scroll", handleScroll);
    window.addEventListener("resize", handleScroll);
    // =========================
    // SELECCIÓN DE ROL
    // =========================
    const roles = document.querySelectorAll('.btn-rol');
    const btnContinuar = document.getElementById('btnContinuar');

    let rolSeleccionado = null;

    roles.forEach(rol => {
        rol.addEventListener('click', () => {
            roles.forEach(r => r.classList.remove('activo'));
            rol.classList.add('activo');

            rolSeleccionado = rol.dataset.rol;
            btnContinuar.disabled = false;
        });
    });

    btnContinuar.addEventListener('click', () => {
        if (rolSeleccionado === 'voluntario') {
            window.location.href = '<%=request.getContextPath()%>/registrovoluntario';
        }

        if (rolSeleccionado === 'entidad') {
            window.location.href = '<%=request.getContextPath()%>/registroorg';
        }
    });

    // =========================
    // GESTIÓN DE PUNTOS DINÁMICOS
    // =========================
    var contadorPuntos = 0;

    function agregarPunto() {
        contadorPuntos++;
        var puntosLista = document.getElementById('puntosLista');
        var emptyMessage = document.getElementById('emptyMessage');

        if (emptyMessage) {
            emptyMessage.style.display = 'none';
        }

        var puntoDiv = document.createElement('div');
        puntoDiv.className = 'punto-item';
        puntoDiv.id = 'punto-' + contadorPuntos;

        var puntoId = contadorPuntos;

        puntoDiv.innerHTML =
            '<button type="button" class="btn-eliminar" onclick="eliminarPunto(' + puntoId + ')">x</button>' +
            '<div class="form-row">' +
            '<div class="form-group">' +
            '<label>Tipo de Punto</label>' +
            '<select name="tipoPunto_' + puntoId + '">' +
            '<option value="">Seleccionar tipo...</option>' +
            '<option value="avituallamiento">Avituallamiento</option>' +
            '<option value="punto_control">Punto de Control</option>' +
            '</select>' +
            '</div>' +
            '<div class="form-group">' +
            '<label>Kilometro</label>' +
            '<input type="number" name="kmPunto_' + puntoId + '" placeholder="Km" min="0" step="0.1">' +
            '</div>' +
            '</div>' +
            '<div class="form-group">' +
            '<label>Nombre del Punto (opcional)</label>' +
            '<input type="text" name="nombrePunto_' + puntoId + '" placeholder="Ej: Plaza central">' +
            '</div>';

        puntosLista.appendChild(puntoDiv);
    }

    function eliminarPunto(id) {
        var punto = document.getElementById('punto-' + id);
        if (punto) {
            punto.remove();
        }

        var puntosLista = document.getElementById('puntosLista');
        var puntos = puntosLista.querySelectorAll('.punto-item');
        var emptyMessage = document.getElementById('emptyMessage');

        if (puntos.length === 0 && emptyMessage) {
            emptyMessage.style.display = 'block';
        }
    }

    document.getElementById('btnAgregar').addEventListener('click', agregarPunto);
</script>
</body>

</html>